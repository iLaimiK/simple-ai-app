/* stylelint-disable at-rule-no-unknown */
// Button 组件的模块化样式

// 按钮基础样式
.buttonBase {
  @apply inline-flex flex-y-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium;
  @apply transition-all outline-none shrink-0;
  @apply disabled:pointer-events-none disabled:opacity-50;

  // SVG 图标样式
  svg {
    @apply pointer-events-none shrink-0;

    &:not([class*="size-"]) {
      @apply size-4;
    }
  }

  // 焦点样式
  &:focus-visible {
    @apply border-ring ring-ring/50 ring-[3px];
  }

  // 验证错误样式
  &[aria-invalid] {
    @apply ring-destructive/20 border-destructive;
  }

  :global(.dark) &[aria-invalid] {
    @apply ring-destructive/40;
  }
}

// 变体样式
.variantDefault {
  @apply bg-primary text-primary-foreground shadow-xs;

  &:hover {
    @apply bg-primary/90;
  }
}

.variantDestructive {
  @apply bg-destructive text-white shadow-xs;

  &:hover {
    @apply bg-destructive/90;
  }

  &:focus-visible {
    @apply ring-destructive/20;
  }

  :global(.dark) &:focus-visible {
    @apply ring-destructive/40;
  }

  :global(.dark) & {
    @apply bg-destructive/60;
  }
}

.variantOutline {
  @apply border bg-background shadow-xs;

  &:hover {
    @apply bg-accent text-accent-foreground;
  }

  :global(.dark) & {
    @apply bg-input/30 border-input;

    &:hover {
      @apply bg-input/50;
    }
  }
}

.variantSecondary {
  @apply bg-secondary text-secondary-foreground shadow-xs;

  &:hover {
    @apply bg-secondary/80;
  }
}

.variantGhost {
  &:hover {
    @apply bg-accent text-accent-foreground;
  }

  :global(.dark) &:hover {
    @apply bg-accent/50;
  }
}

.variantLink {
  @apply text-primary underline-offset-4;

  &:hover {
    @apply underline;
  }
}

// 尺寸样式
.sizeDefault {
  @apply h-9 px-4 py-2;

  &:has(> svg) {
    @apply px-3;
  }
}

.sizeSm {
  @apply h-8 rounded-md gap-1.5 px-3;

  &:has(> svg) {
    @apply px-2.5;
  }
}

.sizeLg {
  @apply h-10 rounded-md px-6;

  &:has(> svg) {
    @apply px-4;
  }
}

.sizeIcon {
  @apply size-9;
}
